{% extends "basemodule001.html" %}
{% load static %}

{% block content %}
    {% if user.is_authenticated %}
        <!--Text Section-->
        <section id="textsection">
            {% if user.is_authenticated %}
                <p class="mt-3">Record: 1 of {{ order_list_length }}</p>
                <form action="{% url 'updateOrderForm' %}" class="orderform ml-auto mr-auto" method="POST">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-lg-6">
                            <li>
                                <label for="id_orderNumber" >OrderNumber:</label>
                                <input disabled="disabled" type="number" name="orderNumber" class="order-number" value="{{ form.orderNumber.value }}" step="1" required id="id_orderNumber">
                            </li>
                            <li>
                                <label for="id_orderDescription">OrderDescription: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderDescription" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('orderDescription');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                                </label>
                                <input disabled="disabled" type="text" name="orderDescription" value="{{ form.orderDescription.value }}" maxlength="254" required id="id_orderDescription">
                            </li>                        
                            <li>
                                <label for="id_name">Name: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderName" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('name');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <input disabled="disabled" type="text" name="name" value="{{ form.name.value }}" maxlength="254" required id="id_name">
                            </li>
                            <li>
                                <label for="id_address">Address: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderAddress" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('address');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <textarea disabled="disabled" type="text" name="address" maxlength="254" rows="1" required id="id_address">{{ form.address.value }}</textarea>
                            </li>
                        </div>
                        <div class="col-lg-6">
                            <li>
                                <label for="id_contractor">Contractor: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderContractor" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('contractor');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <input disabled="disabled" type="text" name="contractor" value="{{ form.contractor.value }}" maxlength="254" required id="id_contractor">
                            </li>
                            <li>
                                <label for="id_appointmentDate">AppointmentDate: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderappointmentDate" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('appointmentDate');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <input disabled="disabled" type="text" name="appointmentDate" value="{{ form.appointmentDate.value }}" required id="id_appointmentDate">
                            </li>
                            <li>
                                <label for="id_primaryContact">PrimaryContact: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editorderprimaryContact" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('primaryContact');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <input disabled="disabled" type="email" name="primaryContact" value="{{ form.primaryContact.value }}" maxlength="254" required id="id_primaryContact">
                            </li>
                            <li>
                                <label for="id_secondaryContact">SecondaryContact: 
                                    {% for group in user.groups.all %}
                                        {% if group.name == 'Edit' %}
                                        <button id="editordersecondaryContact" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder('secondaryContact');">edit</button>
                                        {% endif %}
                                    {% endfor %}
                               </label>
                                <input disabled="disabled" type="email" name="secondaryContact" value="{{ form.secondaryContact.value }}" maxlength="254" required id="id_secondaryContact">
                            </li>
                        </div>
                    </div>
                    <div class="col-12">
                        <li>
                            <label for="id_notes">Notes:
                                {% for group in user.groups.all %}
                                    {% if group.name == 'Edit' %}
                                    <button id="editordernotes" type="button" class="editorderbtn m-0 p-0" onclick="return editOrder(notes);">add note</button>
                                    {% endif %}
                                {% endfor %}</label>
                           </label>
                            <textarea disabled="disabled" type="text" name="notes" maxlength="9999" required id="id_notes">{{ form.notes.value }}</textarea>
                        </li>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <li>
                                <label for="id_dateLastUpdate">DateLastUpdate:
                                <input disabled="disabled" type="text" name="dateLastUpdate" value="{{ form.dateLastUpdate.value }}" required id="id_dateLastUpdate">
                            </li>
                        </div>
                        <div class="col-lg-6">
                            {% for group in user.groups.all %}
                                {% if group.name == 'Edit' %}
                                    <button type='' class="btn btn-blue hidden" id="saveeditbtn" onclick="return saveEdit();">Save Changes</button>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </form>
            {% endif %}
        </section>
    {% endif %}
{% endblock %}